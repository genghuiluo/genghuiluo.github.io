---
layout: post
title: start with Oracle 101
date: 2017-05-21 19:50:05 +0800
categories: oracle
---

## server

[How to setup a oracle instance on CentOS/RHEL?](http://genghuiluo.cn/oracle/2017/05/13/Install-Oracle-11g-R2-on-CentOS7-server.html)


## client

[Oracle Instant Client on Ubuntu](https://help.ubuntu.com/community/Oracle%20Instant%20Client)

1. Download the Oracle Instantclient RPM files from http://www.oracle.com/technetwork/database/features/instant-client/index-097480.html. Everyone needs either "Basic" or "Basic lite", and most users will want "SQL\*Plus" and the "SDK". [Instant Client Downloads for Linux x86-64](http://www.oracle.com/technetwork/topics/linuxx86-64soft-092277.html)
2. Convert these .rpm files into .deb packages and install using "alien" ("sudo apt-get install alien" if you don't have it).
3. For example, for version 12.1.0.2.0-1 for Linux x86_64 (64-bit):
	``` shell
	alien -i oracle-instantclient12.1-basic-12.1.0.2.0-1.x86_64.rpm
	alien -i oracle-instantclient12.1-sqlplus-12.1.0.2.0-1.x86_64.rpm
	alien -i oracle-instantclient12.1-devel-12.1.0.2.0-1.x86_64.rpm
	```
4. Test your Instantclient install by using "sqlplus" or "sqlplus64" to connect to your database:
	``` shell
	sqlplus username/password@//dbhost:1521/SID
	```

### SQLdeveloper

![]({{ site.url }}/assets/sqldeveloper_1.jpg)

[Use tnsnames.ora in Oracle SQL Developer](http://stackoverflow.com/questions/2019230/use-tnsnames-ora-in-oracle-sql-developer)

[Oracle TNS names not showing when adding new connection to SQL Developer](http://stackoverflow.com/questions/425029/oracle-tns-names-not-showing-when-adding-new-connection-to-sql-developer/425104#425104)

Hit F5 to run the query. That is "run script" in this client. F9 or ctrl-enter get me to the query results grid view. (PL/SQL Developer(windows); F5--excution plan; F8--excute) 

To connect a non-oracle database, add third-party jdbc driver: (Tools -> Preferences)
![]({{ site.url }}/assets/sqldeveloper_2.jpg)

## connection

- [Connecting to Oracle Database](https://docs.oracle.com/cd/B28359_01/win.111/b28375/featConnecting.htm)
- [Local Naming Parameters (tnsnames.ora)](https://docs.oracle.com/cd/B28359_01/network.111/b28317/tnsnames.htm)


## [Unlock scott account after installing Oracle 11g](http://stackoverflow.com/questions/9862364/how-to-login-to-the-scot-account-after-installing-oracle-11g)

I think you have not unlocked your scott user account while installation, follow the steps below to unlock you scott account.

When you started installing oracle ,it asked for global database name and database password that password is used for the sys system sysman dbsnmp account.
```
SQL> conn user/password;

SQL> conn scott/tiger;
Error message is displayed: the account is locked.

Try to login as "system" - pass

SQL> conn  system/password;
Unlock "scott"

SQL> alter user scott account unlock;
Can change "tiger":

SQL> alter user scott identified by tiger;
SQL> conn scott/tiger; -Success
scott account is locked in 11g due to security thinking,
```

## sqlplus(sqlplus64)

retrieve the Oracle instance name, you execute the following SQL statement:
`SELECT sys_context('USERENV','DB_NAME') AS Instance FROM dual;`

Sequences are not dependent on tables, therefore you need to use select dbms_metadata.`get_ddl('SEQUENCE', 'SEQ_NAME') from dual;` to retrieve its ddl.

Creating a User:
```
CREATE USER books_admin IDENTIFIED BY MyPassword;
GRANT CONNECT TO books_admin;
GRANT CONNECT, RESOURCE, DBA TO books_admin;
GRANT CREATE SESSION GRANT ANY PRIVILEGE TO books_admin;
GRANT UNLIMITED TABLESPACE TO books_admin;
GRANT SELECT, INSERT, UPDATE, DELETE ON schema.books TO books_admin;
```

- Connect to the database: `sqlplus username/password@database-name`
- To list all tables owned by the current user, type: `select tablespace_name, table_name from user_tables;`
- To list all tables in a database: `select tablespace_name, table_name from dba_tables;`
- To list all tables accessible to the current user, type: `select tablespace_name, table_name from all_tables;`
- You can find more info about views all_tables, user_tables, and dba_tables in Oracle Documentation. To describe a table, type: `desc <table_name>`


